<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
  <title>Document</title>
</head>
<body>


  <div class="container bg-black h-screen w-[100%] mx-auto flex items-center justify-center flex-col relative">
    <h6 class="text-white font-bold">Welcome to the Hive!</h6>
    <h6 class="text-[#FFA410] font-bold">Let’s get you started.</h6>
    <form action="" class="flex justify-center flex-col gap-4 mt-[15%]">
      <input type="email" class="rounded px-[10px]" id="email">
      <input type="text" class="" id="user">
      <input type="text" class="" id="pass">
    </form>
    <button class="bg-[#FFA410] px-[50px] mt-[10%] font-bold rounded-full py-[5px] animate-bounce" id="register" onclick="registro()">Register</button>
    <button class="bg-[#FFA410] px-[50px] mt-[10%] font-bold rounded-full py-[5px]" id="login" onclick="">Login</button>
    <h5 class="text-[red]"></h5>
  </div>

  <div class="popup-out h-screen bg-[rgba(0,0,0,0.5)] fixed top-0 w-screen flex items-center justify-center hidden">
    <div class="popup-in bg-white w-[50%] h-[50%] flex items-center justify-center flex-col">
      <form action="" class="flex justify-center flex-col gap-4 mt-[15%] items-center">
        <input type="text" class="rounded px-[10px] w-[70%] border border-black" id="user1">
        <input type="password" class="rounded px-[10px] w-[70%] border border-black" id="pass1">
      </form>
      <button class="bg-[#FFA410] px-[50px] mt-[10%] font-bold rounded-full py-[5px] close-popup" id="popup-login">Login</button>
      <button class="bg-[#FFA410] px-[50px] mt-[10%] font-bold rounded-full py-[5px] close-popup" onclick="cerrar()">cerrar</button>
    </div>
  </div>

  <script>
    const input = document.querySelector("#email");
    const input1 = document.querySelector("#user");
    const input2 = document.querySelector("#pass");
    const boton = document.querySelector("#register");
    const boton1 = document.querySelector("#login");
    const popup = document.querySelector(".popup-out");
    const close = document.querySelector(".close-popup");
    const alerta = document.querySelector("h5");

    const usuario = document.querySelector("#user1");
    const password = document.querySelector("#pass1");
    const botonLogin = document.querySelector("#popup-login");

    //evento que añade función de validacion de login, comparacion de LocalStorage con inputs de popup
    botonLogin.addEventListener("click", 
     function(){
      if(usuario.value == localStorage.user && password.value == localStorage.contraseña){
        alert("El usuario es correcto")
        window.location.href = "./pages/plantilla2.html";
      }else{
        alert("El usuario está mal")
      }
    }) 

    //verificacion de campos vacios y almacenamiento en localstorage de inputs 
    function registro(){
      if(input1.value == "" || input2.value == "" || input.value == ""){
        alerta.classList.remove("text-[blue]");
        alerta.classList.add("text-[red]");
        alerta.innerHTML = "Debe llenar campos";
      }else{
        alerta.innerHTML = "Se guardaron elementos!";
        alerta.classList.remove("text-[red]");
        alerta.classList.add("text-[blue]");
        localStorage.email = input.value;
        localStorage.user = input1.value;
        localStorage.contraseña = input2.value;
      }
    }

    //cerrar popup
    function cerrar(){
      popup.classList.remove("flex");
      popup.classList.add("hidden");
    }

    // abrir popup
    boton1.addEventListener("click", 
      ()=>{
        alerta.innerHTML = "";
        popup.classList.remove("hidden")
        popup.classList.add("flex")
      }
    )

  </script>
</body>
</html>